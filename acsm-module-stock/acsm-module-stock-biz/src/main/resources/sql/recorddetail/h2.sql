-- 将该建表 SQL 语句，添加到 yudao-module-stock-biz 模块的 test/resources/sql/create_tables.sql 文件里
CREATE TABLE IF NOT EXISTS "stock_record_detail" (
    "id" bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    "record_id" bigint NOT NULL,
    "stock_batch_no" varchar NOT NULL,
    "operation_type" bit NOT NULL,
    "secondary_classification" varchar,
    "goods_id" varchar NOT NULL,
    "goods_number" varchar,
    "goods_name" varchar NOT NULL,
    "goods_type" varchar,
    "packaging_type" varchar,
    "packing_specification" varchar,
    "receipt_quantity" int,
    "existing_inventory" int,
    "delivery_quantity" int,
    "record_detail_id" bigint,
    "goods_allocation_id" bigint,
    "goods_allocation_no" varchar,
    "source_to" varchar,
    "unit_price" varchar,
    "unit" varchar,
    "total_price" varchar,
    "pay_method" varchar,
    "production_batch_no" varchar NOT NULL,
    "bases" varchar,
    "tunnel" varchar,
    "treasury_source" varchar,
    "harvest_batch_id" varchar,
    "purchase_id" bigint NOT NULL,
    "purchase_number" varchar NOT NULL,
    "processing_order_id" bigint,
    "weighing_record_id" bigint,
    "packing_list_id" bigint,
    "temporary_time" datetime,
    "environmental_requirements" varchar,
    "creator" varchar DEFAULT '',
    "create_time" datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updater" varchar DEFAULT '',
    "update_time" datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    "deleted" bit NOT NULL DEFAULT FALSE,
    "tenant_id" varchar NOT NULL,
    "subject_id" varchar NOT NULL,
    "user_id" bigint NOT NULL,
    "source_id" bigint NOT NULL,
    PRIMARY KEY ("id")
) COMMENT '库存记录字表-明细表';

-- 将该删表 SQL 语句，添加到 yudao-module-stock-biz 模块的 test/resources/sql/clean.sql 文件里
DELETE FROM "stock_record_detail";
