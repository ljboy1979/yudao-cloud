spring:
  main:
    allow-circular-references: true # 允许循环依赖，因为项目是三层架构，无法避免这个情况。
    allow-bean-definition-overriding: true # 允许 Bean 覆盖，例如说 Dubbo 或者 Feign 等会存在重复定义的服务
  cloud:
    nacos:
      # 注册中心
      discovery:
        server-addr: http://localhost:8848 #http://123.56.19.224:18848
        namespace: dev # 命名空间。这里使用 dev 开发环境
        metadata:
          version: 1.0.0 # 服务实例的版本号，可用于灰度发布
      # 配置中心
      config:
        # 远程配置
        server-addr: http://123.56.19.224:18848 #${spring.cloud.nacos.discovery.server-addr}
        file-extension: yaml
        namespace: dev
        #        name: system-server
        #        group: DEFAULT_GROUP
        # 公共配置
        shared-configs[0]:
          data-id: yudao-common.yaml
          refresh: true
  redis:
    host: 127.0.0.1 # 地址
    port: 6379 # 端口
    database: 0 # 数据库索引
    password: 123456 # 密码，建议生产环境开启
    redisson:
      config:
        singleServerConfig:
          #连接空闲超时，单位：毫秒
          idleConnectionTimeout: 10000
          pingTimeout: 1000
          #连接超时，单位：毫秒
          connectTimeout: 10000
          #命令等待超时，单位：毫秒
          timeout: 3000
          #命令失败重试次数
          retryAttempts: 3
          #命令重试发送时间间隔，单位：毫秒
          retryInterval: 1500
          #重新连接时间间隔，单位：毫秒
          reconnectionTimeout: 3000
          #执行失败最大次数
          failedAttempts: 3
          #单个连接最大订阅数量
          subscriptionsPerConnection: 5
          #客户端名称
          clientName: null
          #地址
          address: "redis://localhost:6379"
          #数据库编号
          database: 0
          #密码
          password: uodn&110
          #发布和订阅连接的最小空闲连接数
          subscriptionConnectionMinimumIdleSize: 1
          #发布和订阅连接池大小
          subscriptionConnectionPoolSize: 50
          #最小空闲连接数
          connectionMinimumIdleSize: 32
          #连接池大小
          connectionPoolSize: 64
          #是否启用DNS监测
          dnsMonitoring: false
          #DNS监测时间间隔，单位：毫秒
          dnsMonitoringInterval: 5000
          #ping连接间隔
          pingConnectionInterval: 1000
        threads: 0
        nettyThreads: 0
        #codec: !<org.redisson.codec.JsonJacksonCodec> {}
        transportMode : "NIO"
--- # 自定义基于相同网段优先的客户端负载均衡
#spring:
#  cloud:
#    loadbalancer:
#      configurations: net-segment

